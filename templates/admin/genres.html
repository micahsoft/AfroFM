
	<div class="block">
		<div class="block_head with_search">
				<div class="bheadl"></div>
				<div class="bheadr"></div>
				<h2>{lang string='Genres'}</h2>
		</div>	

		<div class="block_content">
				
			{if $genres}
					<form id="manage" data-items="genres">
					
						<table cellpadding="0" cellspacing="0" width="100%" class="sortable">
						
							<thead>
								<tr>
									<th width="10"><input type="checkbox" class="check_all" /></th>
									<th>{lang string='ID'}</th>
									<th>{lang string='Name'}</th>
									<th>{lang string='Is Featured'}</th>
									<th>{lang string='Is Hidden'}</th>
									<th>&nbsp;</th>
								</tr>
							</thead>
							
							<tbody>


								{foreach from=$genres item=genre name=genres}
								<tr>
									<td><input name="selected[]" class="selected" type="checkbox" value="{$genre.id}" /></td>
									<td>{$genre.id}</td>
									<td>{$genre.name}</td>
									<td class="action left {if $genre.featured == 1}green{else}red{/if}">
										<span >{if $genre.featured == 1}Yes{else}No{/if}</span> &nbsp; | &nbsp;
										<a {if $genre.featured == 1}style="display:none"{/if} class="ajax feature" title="{lang string='Feature albums and artists from this genre on the home page'}" href="{link l='genres'}" data-force="true" data-action="feature" data-item="genre" data-params="ajax=on&action=featgenre&id={$genre.id}">{lang string='Feature'}</a>
										<a {if $genre.featured == 0}style="display:none"{/if} class="ajax unfeature" title="{lang string='Unfeature albums and artists from this genre from the home page'}" href="{link l='genres'}" data-force="true" data-action="unfeature" data-item="genre" data-params="ajax=on&action=unfeatgenre&id={$genre.id}">{lang string='Unfeature'}</a>
									</td>
									<td class="action left {if $genre.hidden == 1}green{else}red{/if}">
										<span>{if $genre.hidden == 1}Yes{else}No{/if}</span> &nbsp; | &nbsp;
										<a {if $genre.hidden == 1}style="display:none"{/if} class="ajax hide" title="{lang string='Hide genre'}" href="{link l='genres'}" data-force="true" data-action="hide" data-item="genre" data-params="ajax=on&action=hidegenre&id={$genre.id}">{lang string='Hide'}</a>
										<a {if $genre.hidden == 0}style="display:none"{/if} class="ajax show" title="{lang string='Show genre'}" href="{link l='genres'}" data-force="true" data-action="show" data-item="genre" data-params="ajax=on&action=showgenre&id={$genre.id}">{lang string='Show'}</a>
									</td>
									<td class="action">
										{if $subgenres[$genre.id]|@count}<a class="show-subgenres" title="{lang string='Show Sub Genres'}" data-pid={$genre.id} href="#">{$subgenres[$genre.id]|@count} {lang string='Subgenres'}</a>{/if}
									</td>	
								</tr>
								
								{if $subgenres[$genre.id]}
								<tr class="subgenres" id="sub_{$genre.id}">
									<td colspan="6">

										<table cellpadding="0" cellspacing="0" width="100%">
											<thead>
												<tr>
													<th width="10"></th>
													<th>{lang string='ID'}</th>
													<th>{lang string='Name'}</th>
													<th>{lang string='Is Hidden'}</th>
												</tr>
											</thead>
											<tbody>
											
  											{foreach from=$subgenres[$genre.id] item=sgenre}
  											<tr>
												<td><input name="selected[]" class="selected" type="checkbox" value="{$sgenre.id}" /></td>
												<td>{$sgenre.id}</td>
												<td>{$sgenre.name}</td>
												<td class="action left {if $sgenre.hidden == 1}green{else}red{/if}">
													<span>{if $sgenre.hidden == 1}Yes{else}No{/if}</span> &nbsp; | &nbsp;
													<a {if $sgenre.hidden == 1}style="display:none"{/if} class="ajax hide" title="{lang string='Hide genre'}" href="{link l='genres'}" data-force="true" data-action="hide" data-item="genre" data-params="ajax=on&action=hidegenre&id={$sgenre.id}">{lang string='Hide'}</a>
													<a {if $sgenre.hidden == 0}style="display:none"{/if} class="ajax show" title="{lang string='Show genre'}" href="{link l='genres'}" data-force="true" data-action="show" data-item="genre" data-params="ajax=on&action=showgenre&id={$sgenre.id}">{lang string='Show'}</a>
												</td>
		 									</tr>
 											{/foreach}
 									
 											</tbody>
 										</table>	
 										
									</td>
								</tr>
								{/if}
								
 								{/foreach}
	
							</tbody>
							
						</table>
						
						
						
						<div class="tableactions">
							<select name="action">
								<option value="">---</option>
								<option value="hide">{lang string='Hide'}</option>
								<option value="show">{lang string='Show'}</option>
								<option value="feature">{lang string='Feature'}</option>
								<option value="unfeature">{lang string='Unfeature'}</option>
							</select>
							
							<input type="submit" class="submit tiny" value="Apply to selected" />
						</div>		<!-- .tableactions ends -->

						
					</form>
					
								
			{else}
				<div class="message info">{lang string="No genres found!"}</div>
			{/if}
					
		</div>		<!-- .block_content ends -->
				
		<div class="bendl"></div>
		<div class="bendr"></div>
	</div>		<!-- .block ends -->

